<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="icon" href="img/favicon.png" type="image/png" />
    <title>Ensi B ecommerce</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="vendors/linericon/style.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/themify-icons.css" />
    <link rel="stylesheet" href="vendors/owl-carousel/owl.carousel.min.css" />
    <link rel="stylesheet" href="vendors/lightbox/simpleLightbox.css" />
    <link rel="stylesheet" href="vendors/nice-select/css/nice-select.css" />
    <link rel="stylesheet" href="vendors/animate-css/animate.css" />
    <link rel="stylesheet" href="vendors/jquery-ui/jquery-ui.css" />
    <!-- main css -->
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/responsive.css" />
  <link rel="stylesheet" href="css/stylevendor.css" />
</head>
<body>
  <header class="header_area">
    <div class="top_menu">
      <div class="container">
        <div class="row">
          <div class="col-lg-7">
            <div class="float-left">
              <p>Phone: +01 256 25 235</p>
              <p>email: PCDD@ensi-uma.com</p>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="float-right">
              <ul class="right_side">
                <li>
                  <a href="cart.html">
                    gift card
                  </a>
                </li>
                <li>
                  <a href="tracking.html">
                    track order
                  </a>
                </li>
                <li>
                  <a href="contact.html">
                    Contact Us
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="main_menu">
      <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light w-100">
          <!-- Brand and toggle get grouped for better mobile display -->
          <a class="navbar-brand logo_h" href="index.html">
            <img src="img/logo.png" alt="" />
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse offset w-100" id="navbarSupportedContent">
            <div class="row w-100 mr-0">
              <div class="col-lg-8 pr-0">
                <ul class="nav navbar-nav center_nav pull-right">
                  <li class="nav-item active">
                    <a class="nav-link" href="index.html">Home</a>
                  </li>
                  <li class="nav-item submenu dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                      aria-expanded="false">Shop</a>
                    <ul class="dropdown-menu">
                      <li class="nav-item">
                        <a class="nav-link" href="category.html">Shop Category</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="single-product.html">Product Details</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="checkout.html">Product Checkout</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="cart.html">Shopping Cart</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item submenu dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                      aria-expanded="false">Blog</a>
                    <ul class="dropdown-menu">
                      <li class="nav-item">
                        <a class="nav-link" href="blog.html">Blog</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="single-blog.html">Blog Details</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item submenu dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                      aria-expanded="false">Pages</a>
                    <ul class="dropdown-menu">
                      <li class="nav-item">
                        <a class="nav-link" href="tracking.html">Tracking</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="contact.html">Contact</a>
                  </li>
                  <li class="nav-item" id="vendorOrdersNav" style="display: none;">
                    <a class="nav-link" href="vendortracking.html">Orders</a>
                  </li>
                </ul>
              </div>
              <div class="col-lg-4 pr-0">
                <ul class="nav navbar-nav navbar-right right_nav pull-right">
                  <li class="nav-item">
                    <a href="#" class="icons">
                      <i class="ti-search" aria-hidden="true"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="ca" class="icons">
                      <i class="ti-shopping-cart"></i>
                    </a>
                  </li>
                  
                  <li class="nav-item">
                    <a href="#" class="icons" id="profileIcon" style="display: none;">
                      <img id="profilePicture" src="" alt="User" style="width: 30px; height: 30px; border-radius: 50%; cursor: pointer;">
                    </a>
                    <ul id="logoutMenu" style="display: none; position: absolute; background: white; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                      <li><a href="#" id="logoutButton" class="nav-link">Logout</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a href="#" class="icons" id="loginIcon" data-toggle="modal" data-target="#loginModal">
                      <i class="ti-user" aria-hidden="true"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="#" class="icons">
                      <i class="ti-heart" aria-hidden="true"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </header>
  <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-body position-relative">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="position: absolute; right: 15px; top: 15px;">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="myform">
            <h1 class="text-center">Login Form</h1>
            <form id="signinForm" action="/api/user/signin" method="POST">
              <div class="form-group mt-4">
                <label for="emailInput" class="form-label">Email address</label>
                <input type="email" class="form-control" id="emailInput" placeholder="Enter email" name="email" required />
              </div>
              <div class="form-group">
                <label for="passwordInput" class="form-label">Password</label>
                <input type="password" class="form-control" id="passwordInput" placeholder="Password" name="password" required />
              </div>
              <button type="submit" class="btn btn-light btn-block">LOGIN</button>
              <p>Not a member? <a href="#" data-toggle="modal" data-target="#signupModal">Signup now</a></p>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
 <!-- Signup Modal -->
<div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="signupModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-body position-relative">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="position: absolute; right: 15px; top: 15px;">
          <span aria-hidden="true">&times;</span>
        </button>
      <form class="myform p-4" action="/api/user/signup" method="POST" enctype="multipart/form-data">
  <h1 class="text-center mb-4">Signup Form</h1>

  <!-- Full Name -->
  <div class="form-group">
    <label for="signupName" class="form-label">Full Name</label>
    <input type="text" class="form-control" id="signupName" name="name" required>
  </div>

  <!-- Email -->
  <div class="form-group mt-3">
    <label for="signupEmail" class="form-label">Email address</label>
    <input type="email" class="form-control" id="signupEmail" name="email" required>
  </div>

  <!-- Password -->
  <div class="form-group mt-3">
    <label for="signupPassword" class="form-label">Password</label>
    <input type="password" class="form-control" id="signupPassword" name="password" required>
  </div>

  <!-- Confirm Password -->
  <div class="form-group mt-3">
    <label for="confirmPassword" class="form-label">Confirm Password</label>
    <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
  </div>

  <!-- Role Selector -->
  <div class="form-group mt-4">
    <label class="form-label">Select Role:</label><br>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="role" id="roleClient" value="client" checked>
      <label class="form-check-label" for="roleClient">Client</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="role" id="roleVendor" value="vendor">
      <label class="form-check-label" for="roleVendor">Vendor</label>
    </div>
  </div>

  <!-- Vendor Photo Upload -->
  <div class="form-group mt-3">
    <label for="vendorPhoto" class="form-label">Upload your profile picture</label>
    <input type="file" class="form-control-file" id="vendorPhoto" name="profilePicture" accept="image/*">
  </div>

  <!-- Vendor-only Crypto Key -->
  <div class="form-group mt-3">
    <label for="cryptoKey" class="form-label">MetaMusk Public Adress</label>
    <input type="text" class="form-control" id="cryptoKey" name="cryptoKey" placeholder="Enter your wallet public key">
  </div>

  <!-- Submit -->
  <button type="submit" class="btn btn-light btn-block mt-4 py-2">SIGN UP</button>
</form>
        
      </div>
    </div>
  </div>
</div>
  <div class="container mt-5">
    <h2 class="text-center mb-4">Vendor Customization</h2>

    <!-- Main Photo Input -->
    <form id="productForm" enctype="multipart/form-data">
      <!-- Your existing form fields -->
      <div class="form-group">
        <label for="mainPhoto">Main Photo:</label>
        <input type="file" class="form-control-file" id="mainPhoto" name="mainPhoto" required />
      </div>
      <div class="form-group">
        <label for="name">Product Name:</label>
        <input type="text" class="form-control" id="name" name="name" required />
      </div>
      <div class="form-group">
        <label for="mainDescription">Main Description:</label>
        <textarea class="form-control" id="mainDescription" name="mainDescription" rows="3" required></textarea>
      </div>
      <div class="form-group">
        <label for="otherPhotos">Other Photos:</label>
        <input type="file" class="form-control-file" id="otherPhotos" name="otherPhotos" multiple />
      </div>
      <div class="form-group">
        <label for="photosDescriptions">Descriptions for Other Photos:</label>
        <textarea class="form-control" id="photosDescriptions" name="photosDescriptions" rows="3"></textarea>
      </div>
      <div class="form-group">
        <label for="price">Price:</label>
        <input type="number" class="form-control" id="price" name="price" required />
      </div>
      <button type="submit" class="btn btn-primary">Add Product</button>
      <div id="formStatus" class="mt-3"></div>
    </form>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('productForm');
        // Save scroll position
        let lastScrollPosition = 0;
        
        // Store scroll position when user scrolls
        window.addEventListener('scroll', function() {
          lastScrollPosition = window.scrollY;
        });
        
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          const formData = new FormData(form);
          const token = localStorage.getItem('token'); // Get token from local storage
          
          if (!token) {
            alert('You must be logged in to add products');
            return;
          }

          try {
            const response = await fetch('/api/products/add', {
              method: 'POST',
              headers: {
                'Authorization': `Bearer ${token}`
              },
              body: formData
            });
            
            const data = await response.json();
            
            if (response.ok) {
              alert('Product added successfully!');
              form.reset(); // Clear the form
              // Restore scroll position after form reset
              setTimeout(() => {
                window.scrollTo(0, lastScrollPosition);
              }, 100);
            } else {
              alert(`Error: ${data.message || 'Could not add product'}`);
              // Restore scroll position after showing alert
              setTimeout(() => {
                window.scrollTo(0, lastScrollPosition);
              }, 100);
            }
          } catch (error) {
            console.error('Error:', error);
            alert('An error occurred while submitting the form');
            // Restore scroll position after showing alert
            setTimeout(() => {
              window.scrollTo(0, lastScrollPosition);
            }, 100);
          }
        });
        
        // Prevent any form interactions from scrolling to top
        document.querySelectorAll('input, textarea, select, button').forEach(element => {
          element.addEventListener('focus', function(e) {
            e.preventDefault();
            // Prevent default focus behavior that might scroll the page
          });
        });
      });
    </script>
  </div>

  <!--================ start footer Area  =================-->
  <footer class="footer-area section_gap">
    <div class="container">
      <div class="row">
        <div class="col-lg-2 col-md-6 single-footer-widget">
          <h4>Top Products</h4>
          <ul>
            <li><a href="#">Managed Website</a></li>
            <li><a href="#">Manage Reputation</a></li>
            <li><a href="#">Power Tools</a></li>
            <li><a href="#">Marketing Service</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 single-footer-widget">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="#">Jobs</a></li>
            <li><a href="#">Brand Assets</a></li>
            <li><a href="#">Investor Relations</a></li>
            <li><a href="#">Terms of Service</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 single-footer-widget">
          <h4>Features</h4>
          <ul>
            <li><a href="#">Jobs</a></li>
            <li><a href="#">Brand Assets</a></li>
            <li><a href="#">Investor Relations</a></li>
            <li><a href="#">Terms of Service</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 single-footer-widget">
          <h4>Resources</h4>
          <ul>
            <li><a href="#">Guides</a></li>
            <li><a href="#">Research</a></li>
            <li><a href="#">Experts</a></li>
            <li><a href="#">Agencies</a></li>
          </ul>
        </div>
        <div class="col-lg-4 col-md-6 single-footer-widget">
          <h4>Newsletter</h4>
          <p>You can trust us. we only send promo offers,</p>
          <div class="form-wrap" id="mc_embed_signup">
            <form target="_blank" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
              method="get" class="form-inline">
              <input class="form-control" name="EMAIL" placeholder="Your Email Address" onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Your Email Address '" required="" type="email">
              <button class="click-btn btn btn-default">Subscribe</button>
              <div style="position: absolute; left: -5000px;">
                <input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text">
              </div>

              <div class="info"></div>
            </form>
          </div>
        </div>
      </div>
      <div class="footer-bottom row align-items-center">
        <p class="footer-text m-0 col-lg-8 col-md-12">
</p>
        <div class="col-lg-4 col-md-12 footer-social">
          <a href="#"><i class="fa fa-facebook"></i></a>
          <a href="#"><i class="fa fa-twitter"></i></a>
          <a href="#"><i class="fa fa-dribbble"></i></a>
          <a href="#"><i class="fa fa-behance"></i></a>
        </div>
      </div>
    </div>
  </footer>
  <!--================ End footer Area  =================-->

  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/popper.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/stellar.js"></script>
  <script src="vendors/lightbox/simpleLightbox.min.js"></script>
  <script src="vendors/nice-select/js/jquery.nice-select.min.js"></script>
  <script src="vendors/isotope/imagesloaded.pkgd.min.js"></script>
  <script src="vendors/isotope/isotope-min.js"></script>
  <script src="vendors/owl-carousel/owl.carousel.min.js"></script>
  <script src="vendors/jquery-ui/jquery-ui.js"></script>
  <script src="js/jquery.ajaxchimp.min.js"></script>
  <script src="js/mail-script.js"></script>
  <script src="vendors/counter-up/jquery.waypoints.min.js"></script>
  <script src="vendors/counter-up/jquery.counterup.js"></script>
  <!-- contact js -->
  <script src="js/jquery.form.js"></script>
  <script src="js/jquery.validate.min.js"></script>
  <script src="js/contact.js"></script>
  <!--gmaps Js-->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
  <script src="js/gmaps.min.js"></script>
  <script src="js/theme.js"></script>
  <script src="js/modal-handler.js"></script>
  <script src="js/vendorpage.js"></script>
</body>
</html>